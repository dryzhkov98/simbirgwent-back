generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Card {
  id          String    @id @default(uuid()) @db.Uuid
  name        String    @db.VarChar(255)
  description String    @db.Text
  image       Bytes     @db.ByteA
  power       Int       @db.Integer
  abilities   Json      @db.JsonB
  rarity      Rarities
  fraction    Fractions
  Deck        Deck?     @relation(fields: [deckId], references: [id])
  deckId      String?   @db.Uuid
}

model Deck {
  id          String    @id @default(uuid()) @db.Uuid
  name        String    @db.VarChar(255)
  description String    @db.Text
  fraction    Fractions
  cards       Card[]
}

enum Rarities {
  COMMON
  RARE
  EPIC
  LEGENDARY
}

enum Fractions {
  NOTHERN_KINGDOMS
  SKELLIGE
  SKEWERS
  MONSTERS
  NILFGAARD
}
